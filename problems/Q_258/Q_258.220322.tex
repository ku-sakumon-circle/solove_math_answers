\begin{thm}{258}{}{2021新歓ビラ}
$m,n$を自然数とする. 
\begin{enumerate}
\item $2018^{m} - 1897^{n}$が平方数となるような$m,n$をすべて求めよ. (\hosi 2)
\item $2018^{m} - 1897^{n}$が立方数となることはあるか? (\hosi 10)
\end{enumerate}
\end{thm}

\syoumon{(1)} 
$n=1$のとき, $2018 - 1897 = 121 = 11^2$なのでよい。\par 
$n\geq 2$とする。このとき, $2018^{n}$は$4$の倍数であり, $1897\equiv 1\pmod{4}$なので
\[2018^{n} - 1897^{m} \equiv -1\pmod{4}\]
となる。これは平方剰余ではないから, 平方数にはならない。よって$n=1$のみ。
\syoumon{(2)}
$1897 = 7\times 271$である。$2018^{n} - 1897^{m} = N^3$であるとしよう。$\bmod{7}$を取ると, $2018 \equiv 2\pmod{7}$だから
\[N^3 \equiv 2^{n}\pmod{7}\]
である。ここで, $N^3\bmod{7}  = \pm 1, 0$と, $2^{n} \bmod{7} = 2,4,1$により, 上の両辺は$1\bmod{7}$で等しくなければならない。よって$2^{n} \equiv  1\pmod{7}$なので$n$は$3$の倍数である。$n=3a$とおくと, 
\[2018^{3a} - N^3 = 1897^{m}\]
である。左辺は$(2018^a - N)(2018^{2a} + 2018^{a}N + N^2)$である。ここで,仮に $p$が二つの因数を割りきる素数であるとすると, $p$は$1897$の素因数でもあるので, $p\in \{ 7,271\}$である。一方で, 
\[2018^{a} \equiv N,\quad 2018^{2a} + 2018^{a}N + N^2 \equiv 0\pmod{p}\]
であるため, $3N^2 \equiv 0\pmod{0}$が得られる。$3$は$p$の倍数ではないので,$N$が$p$で割れることになり, $2018^{a} \equiv 0\pmod{p}$なので, $p$で割れることになる。これは$p\in \{ 2,1009 \}$ということになり, 矛盾である。よって, 二つの因数は共通の素因数を持たないため互いに素である。よって, $0 < 2018^{m} - N < 2018^{2a} + 2018^{a}N + N^2$に注意すると次の二つのパターンが考えられる:
\begin{screen} 
\[\text{\textbf{Type I:}}\qquad 2018^{a} - N = 7^{m},\qquad 2018^{2a} + 2018^{a}N + N^2 = 271^{m}\]
\[\text{\textbf{Type II:}}\qquad 2018^{a} - N = 1,\qquad 2018^{2a} + 2018^{a}N + N^2 = 1897^{m}\]
\end{screen}
\subsection*{Type I}
$N=2018^{a} - 7^{m}$を代入することで
\begin{eqnarray*} 
& &2018^{2a} + 2018^{a}(2018^{a} - 7^m) + (2018^{a} - 7^{m})^2 \\
&=& 3\cdot 2018^{2a} -3\cdot 2018^{a}\cdot 7^{m} + 7^{2m} = 271^m
\end{eqnarray*}
整理すると, 
\begin{equation} \label{258:eq:1}
3\cdot 2018^{a}(2018^{a} - 7^m) = 271^{m} - 49^{m}
\end{equation}
$\bmod{7}$を取ると
\[3\cdot (2018^{a})^{2} \equiv 5^{m}\pmod{7}\]
であり, $3$は$\bmod{7}$で平方非剰余なので左辺は平方非剰余である。よって$5^{m}$も平方非剰余であるから, 特に $m$は偶数になってはならない。よって$m$は奇数である\footnote{$5$は平方非剰余なので$5^{m}$は平方非剰余である。よって, この両辺を比較することはこれ以上はできない。}。そして$m$が奇数であることから
\[271^{m} - 49^{m} \equiv (-1)^{m} - 1^{m} \equiv 2\pmod{4}\]
であり, $271^{m} - 49^{m}$は$4$で割り切れない偶数である。\par 
(\ref{258:eq:1})の左辺が$4$で割り切れないためには$a=1$でなければならない。これを代入して整理すれば
\[3\cdot 2018^2 = 271^{m} + 6054\cdot 7^{m} - 49^{m} \]
を得る。これの自然数解$m$が存在しないことは簡単に確かめられる。たとえば, 最も短く済む方法は以下の通りである: \par 
以下, $\bmod{5}$で考える。$m$が奇数であったことに注意。よって, $2018^{2} \equiv -1$, $49^{m} \equiv -1$, $6054\equiv -1$なので, 
\[-3 \equiv 1 + (-1)\cdot 7^{m} - (-1)\]
これを整理すると$7^{m} \equiv 0$となるので解はない。
\subsection*{Type II}
$N$を消去すると
\[3\cdot 2018^{a}(2018^{a} - 1) = 1897^{m} - 1 \]
を得る. 左辺は$2$で$a$回割れる。一方で奇数$r$, 非負整数$t$を用いて$m = 2^{t}r$と書くと, 
\[1897^{m} - 1 = (1897^{r}-1) \prod_{j=0}^{t-1} (1897^{2^{j}r} + 1)\]
である(ただし$t=0$なら積の部分は1とする)。$r$が奇数なので, $1897^{r} - 1$は
\[1897^{r} - 1 \equiv 9^r - 1   \equiv 8\pmod{16} \quad (\because 1897=1600+160+128+9)   \]
より$2$で$3$回しか割れない。$1897 \equiv 1\pmod{4}$だから$1897^{2^{j} r}+1$ ($0\leq j\leq t-1$)は4で割れない偶数であり, $1897^{m} - 1$は$t+3$回だけ$2$で割れることが分かる。よって, $a=t+3$であり, $a\geq 3$である。よって, 
\begin{equation} \label{eq:2}
    \boldmath{ 3\cdot 2018^{a} (2018^{a} - 1)  = 1897^{2^{a-3}r} -1 }, \quad a\geq 3, \quad r:\text{奇数}
\end{equation}
の解を調べるとよい。少々の\textbf{腕力}により, $a=3,4,5,6$の可能性は否定できる: 
\begin{screen} 
\begin{enumerate}
\item $a=5,6$のとき, 右辺の指数の$2^{a-3}r$は$4$の倍数なので, $4b$と書ける。$1897^{4b} - 1$は$5$の倍数であるが, $2018^{a} - 1$ は$a=5,6$で$5$の倍数ではなく, 左辺は$5$の倍数ではないから不適。
\item $a=4$のとき, $2018^{4} - 1$は$5$の倍数だが, (\label{eq:2})の右辺の$\bmod{5}$は$2^{2r} - 1$であり, $r$が奇数だから これは$0$と合同ではない。よって不適。
\item $a=3,6$のとき, $2018^{a} - 1$は$7$の倍数であることが容易に分かる($2018\equiv 2\pmod{7}$)。しかし, 右辺は$7$の倍数から1を引いたものだから7の倍数ではない。
\end{enumerate}
\end{screen} 
以降$a\geq 7$とする。(\ref{eq:2})の式を次のように評価する。
\[\text{(左辺)}  \leq 3\cdot 2018^{2a} - 1 < 6^{a} \left(\dfrac{1897}{2018}\right)^{2a}2018^{2a}  - 1 = 6^a \cdot 1897^{2a} - 1 <  1897^{\frac{9}{4} a} - 1\]
\[\text{(右辺)} \geq 1897^{2^{a-3}} - 1\]
よって, 
\[1897^{2^{a-3}} - 1 < 1897^{\frac{9}{4} a} - 1\]
だから$2^{a-3} < \frac{9}{4} a$が成り立たなければならない。しかしこれが$a\geq 7$で成り立たないことは容易である。(たとえば, $a=7$では不等式は$16 < \frac{63}{4}$となりおかしい。)\\


以上より\textbf{立方数にはならない。}

\syoumon{補足1.}
正直, (2)はかなり面倒な問題であるが, それでも私はこの解き方が典型から外れたものであるとは思わない.\par 
一般的に$x^{m}-y^{m}$の形の式を見たら, 何かの素数で割り切れる回数を求めるのはかなり典型的な方針である(典型的とは言っても, 数オリレベルの話である). というのも, 次のような\textbf{LTEの補題}が知られているからだ. 
\begin{tcolorbox}[title=LTEの補題(Lifting The Exponent lemma)]
$x,y$を異なる整数, $n$を自然数, $p$を素数で$x-y$が$p$で割り切れ, $x,y$が$p$で割れないとする. 0でない整数$N$に対して, $N$の素因数分解に現れる$p$の指数を$v_{p}(N)$と書くとき, 次が成立する. 
\begin{enumerate}
\item $p$が奇素数の場合, 
\[v_p(x^{n} - y^{n}) = v_p(x-y) + v_p(n)\]
\item $p=2$のとき, もし$4|x-y$であるなら
\[v_2(x^{n} - y^{n}) = v_2(x-y) + v_2(n)\]
もし$4\not | x-y$であるなら
\[v_2(x^n - y^n) = v_2(x-y) + v_2(x+y) + v_2(n) - 1\]
\end{enumerate}
\end{tcolorbox}
今回の解答は「LTEの補題より」という文言こそ使わなかったものの, アイデアとしては実質LTEの補題をもとにしている. \par 
LTEの補題を使ったあと, $x^{m} - y^{m}$の指数$m$に関する「非常に強い制約」が生まれることが多い. たとえば今回の解答の場合分けの2つめにおいては, $m=2^{t}r$と置いて割り切れる回数を評価すると$t=a-3$という式が得られた. ここから$m \geq 2^{t-3}$という簡易的な評価ができるので, $m$が$t$の指数関数で下から抑えられる. このような状況は非常によく起こることであり, ここまで来ればおおざっぱな評価で必要条件が大きく絞れることも多い(ただし今回の問題は$a=3,4,5,6$など, かなり絞りづらい問題だった). 

\syoumon{別解(by すむーずぷりん)}
 \begin{screen}
      次を満たす自然数の組 $(x, y, z)$ は存在しないことを示せ:
      \begin{equation}
        \alpha^{x} - \beta^{y} = z^{3}, \quad
        \alpha = 2018, \quad \beta = 1897
        \label{the_eq}
        \tag{$*$}
      \end{equation}

  \end{screen}
\textbf{解答}\\
    存在すると仮定して矛盾を導く. ${}\bmod{7}$ を考えると
    $\alpha \equiv 2$, $\beta \equiv 0$ なので,
    \eqref{the_eq} より
    \[
      2^{x} \equiv z^{3}
    \]
    が得られる. $2^{x}$ が ${}\bmod{7}$ で立方剰余となるのは
    $x$ が $3$ の倍数のときのみである. そこで $x = 3 \xi$ とおく.
    \eqref{the_eq} に代入して整理すると
    \[
      \beta^{y}
      = \alpha^{3 \xi} - z^{3}
      = (\alpha^{\xi} - z)
        (\alpha^{2\xi} + \alpha^{\xi}z + z^{2})
    \]
    となる. ここで 
    $\alpha^{\xi} - z$ 
    と
    $\alpha^{2\xi} + \alpha^{\xi}z + z^{2}$
    は互いに素である. 実際, もし互いに素でないならばある
    共通素因数 $p$ を持つので
    \[
      \alpha^{\xi} - z = k p, \quad
      \alpha^{2\xi} + \alpha^{\xi}z + z^{2} = \ell p
    \]
    となる自然数 $k, \ell$ が取れる. ふたつの式から $z$ を消去して整理すると
    \[
      3 \alpha^{2\xi} 
      = (3 k \alpha^{\xi} - k^{2} p + \ell) p
    \]
    となり, 一方で \eqref{the_eq} から
    \[
      \beta^{y} = k \ell p^{2}
    \]
    となる. よって $p$ は $3 \alpha$ と $\beta$ の公約数だが,
    $3 \alpha$ と $\beta$ は互いに素なので矛盾である.
    $\alpha^{\xi} - z$ 
    と
    $\alpha^{2\xi} + \alpha^{\xi}z + z^{2}$
    は互いに素であることから, 次の二通りを考えれば十分である：
    \begin{description}
      \item[ CaseA] 
      $\begin{aligned}
        \alpha^{\xi} - z = 1, \quad
        \alpha^{2\xi} + \alpha^{\xi} z + z^{2} = \beta^{y}
      \end{aligned}$
      \item[CaseB]
      $\begin{aligned}
        \alpha^{\xi} - z = 7^{y}, \quad
        \alpha^{2\xi} + \alpha^{\xi} z + z^{2} = 271^{y}
      \end{aligned}$
    \end{description}
    いずれの場合でも $y$ が $504$ の倍数であることを示す.
    \begin{description}
      \item[CaseA] $z = \alpha^{\xi} + 1$ を
      \eqref{the_eq} に代入して整理すると
      \[
        \alpha^{3\xi} - \beta^{y} = (\alpha^{\xi} - 1)^{3}
        \iff
        3 \alpha^{\xi} (\alpha^{\xi} - 1) = \beta^{y} - 1
      \]
      が得られる. ${}\bmod{1009}$ を考えると
      $\alpha \equiv 0$ であることから
      \[
        \beta^{y} \equiv 1
      \]
      となる. これを満たすのは $y$ が $504$ の倍数のときのみである.
      \item[CaseB] $z = \alpha^{\xi} + 7^{y}$ を
      \eqref{the_eq} に代入して整理すると
      \[
        \alpha^{3\xi} - \beta^{y} = (\alpha^{\xi} - 7^{y})^{3}
        \iff
        3 \alpha^{\xi} (\alpha^{\xi} - 7^{y})
        = 271^{y} - 49^{y}
      \]
      が得られる. ${}\bmod{1009}$ を考えると
      $\alpha \equiv 0$ であることから
      \[
        271^{y} \equiv 49^{y}
        \iff
        335^{y} \equiv 1
      \]
      となる. これを満たすのは $y$ が $504$ の倍数のときのみである.
    \end{description}
    $y = 504 \eta$ とおく. \eqref{the_eq} より
    \[
      \alpha^{3 \xi} - \beta^{504 \eta} = z^{3}
      \iff
      (\beta^{168 \eta})^{3} + z^{3} = (\alpha^{\xi})^{3}
    \]
    となる. ところが Fermat の最終定理よりこの等式は成立しない.
 

\syoumon{補足2.}
本問は私の初代ビラ問題のリスペクトでした. 
\begin{tcolorbox}[title= 初代ビラ問題]
京都大学は1897年に創立された. 自然数$a,b,c$の組であって, 
\[1=8^{a}-9^{b}\cdot 7^{c}\]
を満たすようなものをすべて求めよ.
\end{tcolorbox}
こちらは今回の問題よりは易しめなので, ぜひ解いてください. 京大作サー初期メンバーは全員, 私のこの問題に釘付けにされたため, 3年という節目を迎えて生まれたこのビラ問題に涙を流さなかった初期メンバーはいないらしい.

